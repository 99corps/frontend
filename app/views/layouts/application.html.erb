<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title><% if @publication %><%= page_title(@publication, @artefact, @video_mode) %><% else %><%= yield %><% end %></title>
    <%= stylesheet_link_tag '/stylesheets/publisher.css' %>
    <%= yield :extra_stylesheets %>

    <% if @publication %>
      <% if @publication.overview and @publication.overview != '' %>
        <meta name="description" content="<%= @publication.overview %>">
      <% end %>
      <% if @artefact and @artefact.section and @artefact.section != '' %>
        <meta name="x-section-name" content="<%= @artefact.section %>">
        <meta name="x-section-link" content="/<%= @artefact.section.parameterize %>">
      <% end %>
    <% else %>
      <%= yield :description %>
    <% end %>

    <%= yield :extra_javascript %>
    <%= yield :extra_headers %>
  </head>

  <body class="<%= yield :body_class %>">
    <% if @publication %>
      <div id="wrapper" class="<%= @publication.type %><%= @video_mode ? ' video-guide' : '' %>">
    <% else %>
      <div id="wrapper" class="<%= yield :wrapper_class %>">
    <% end %>

      <%= yield %>
      <%= easter_egg @publication.slug if @publication %>
    </div>
  </body>
</html>
